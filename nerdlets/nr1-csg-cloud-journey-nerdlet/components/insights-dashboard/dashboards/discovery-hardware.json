{
    "dashboard_account_id": 2246998,
    "filter": {
        "event_types": [
            "Transaction"
        ],
        "filter_first": false,
        "key_names": [
            "host"
        ]
    },
    "grid_column_count": 3,
    "icon": "archive",
    "owner": {
        "email": "ayathirajadasan@newrelic.com"
    },
    "title": "LabsUseOnly",
    "widgets": [
        {
            "column": 1,
            "customizations": null,
            "event_types": [
                "SystemSample"
            ],
            "facet": null,
            "height": 1,
            "notes": null,
            "nrql": "from SystemSample   select    filter(uniquecount(hostname), WHERE provider IS NULL OR provider = 'Ec2Instance' ) AS 'Total Servers',    filter(uniquecount(hostname), WHERE provider IS NULL) AS 'On-Premises Servers',   filter(uniquecount(hostname), WHERE provider = 'Ec2Instance') AS 'AWS Servers'",
            "process_as": "attribute_sheet",
            "row": 1,
            "title": "Server Locations",
            "width": 2
        },
        {
            "column": 3,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "cases",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT uniqueCount(hostname) AS 'Hosts'  FACET cases(  WHERE provider IS NULL as 'On-Premises',      WHERE provider = 'Ec2Instance' as 'AWS')",
            "process_as": "facet_pie_chart",
            "row": 1,
            "title": "Server Locations",
            "width": 1
        },
        {
            "column": 1,
            "customizations": {},
            "event_types": [
                "Transaction"
            ],
            "facet": "host",
            "height": 1,
            "notes": null,
            "nrql": "from Transaction select uniqueCount(appName) as 'Apps' WHERE appName LIKE '%_OP' facet host",
            "process_as": "facet_bar_chart",
            "row": 2,
            "title": "Apps per Server : On-Premises",
            "width": 1
        },
        {
            "column": 2,
            "customizations": {
                "drilldown": {
                    "dashboard_id": 1044284
                }
            },
            "event_types": [
                "Transaction"
            ],
            "facet": "host",
            "height": 1,
            "notes": null,
            "nrql": "from Transaction select uniqueCount(appName) as 'Apps'  WHERE appName LIKE '%_AWS' facet host",
            "process_as": "facet_bar_chart",
            "row": 2,
            "title": "Apps per Server : AWS",
            "width": 2
        },
        {
            "column": 1,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "operatingSystem",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT uniqueCount(hostname) AS 'Hosts'  WHERE provider IS NULL FACET operatingSystem",
            "process_as": "facet_pie_chart",
            "row": 3,
            "title": "OS Types : On-Premises",
            "width": 1
        },
        {
            "column": 2,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "operatingSystem",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT uniqueCount(hostname) AS 'Hosts' WHERE provider = 'Ec2Instance' FACET operatingSystem",
            "process_as": "facet_pie_chart",
            "row": 3,
            "title": "OS Types : AWS",
            "width": 1
        },
        {
            "column": 3,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "operatingSystem",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT uniqueCount(hostname) AS 'Hosts' WHERE provider IS NULL OR  provider = 'Ec2Instance' FACET operatingSystem",
            "process_as": "facet_pie_chart",
            "row": 3,
            "title": "OS Types: Combined",
            "width": 1
        },
        {
            "column": 1,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "processorCount",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample   SELECT uniqueCount(hostname) AS 'Hosts'  FACET processorCount   WHERE provider IS NULL",
            "process_as": "facet_pie_chart",
            "row": 4,
            "title": "Processor Count: On Premises",
            "width": 1
        },
        {
            "column": 2,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "processorCount",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT uniqueCount(hostname)  AS 'Hosts' FACET processorCount   WHERE provider = 'Ec2Instance'",
            "process_as": "facet_pie_chart",
            "row": 4,
            "title": "Processor Count : AWS",
            "width": 1
        },
        {
            "column": 3,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "processorCount",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT uniqueCount(hostname) AS 'Hosts'   FACET processorCount  WHERE provider IS NULL    OR provider = 'Ec2Instance'",
            "process_as": "facet_pie_chart",
            "row": 4,
            "title": "Processor Count: Combined",
            "width": 1
        },
        {
            "column": 1,
            "customizations": {
                "limit": 100.0
            },
            "event_types": [
                "StorageSample"
            ],
            "facet": null,
            "height": 1,
            "notes": null,
            "nrql": "FROM StorageSample SELECT average(diskUsedPercent) as 'Percent Full'   WHERE provider IS NULL SINCE 1 MINUTE AGO",
            "process_as": "gauge",
            "row": 5,
            "title": "Disk Utilization : On-Premises",
            "width": 1
        },
        {
            "column": 2,
            "customizations": {
                "limit": 100.0
            },
            "event_types": [
                "StorageSample"
            ],
            "facet": null,
            "height": 1,
            "notes": null,
            "nrql": "FROM StorageSample SELECT average(diskUsedPercent) as 'Percent Full'   WHERE provider = 'Ec2Instance' SINCE 1 MINUTE AGO",
            "process_as": "gauge",
            "row": 5,
            "title": "Disk Utilization : AWS",
            "width": 1
        },
        {
            "column": 3,
            "customizations": {
                "limit": 100.0
            },
            "event_types": [
                "StorageSample"
            ],
            "facet": null,
            "height": 1,
            "notes": null,
            "nrql": "FROM StorageSample SELECT average(diskUsedPercent) as 'Percent Full'  WHERE provider IS NULL  OR provider = 'Ec2Instance' SINCE 1 MINUTE AGO",
            "process_as": "gauge",
            "row": 5,
            "title": "Disk Utilization : Combined",
            "width": 1
        },
        {
            "column": 1,
            "customizations": {},
            "event_types": [
                "SystemSample",
                "NetworkSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample, NetworkSample  SELECT  latest(coreCount) as 'Core Count',  max(cpuPercent) as 'Peak CPU %',  average(cpuPercent) as 'Avg CPU %',  latest(operatingSystem) as 'OS',  latest(processorCount) as 'Processor Count',  average(diskTotalBytes)/1073741824 as 'Total Storage',  max(diskUtilizationPercent) as 'Peak Storage %',  average(diskUtilizationPercent) as 'Avg Storage %',  average(memoryTotalBytes)/1073741824 as 'Memory Installed',  average(memoryUsedBytes/memoryTotalBytes) as 'Avg Memory %',  max(memoryUsedBytes/memoryTotalBytes) as 'Peak Memory %',  average(transmitBytesPerSecond) as 'Avg Network Usage',  max(transmitBytesPerSecond) as 'Peak Network Usage'  WHERE provider IS NULL FACET hostname",
            "process_as": "facet_table",
            "row": 6,
            "title": "Server Statistics : On-Premises",
            "width": 3
        },
        {
            "column": 1,
            "customizations": {},
            "event_types": [
                "SystemSample",
                "NetworkSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample, NetworkSample  SELECT  latest(coreCount) as 'Core Count',  max(cpuPercent) as 'Peak CPU %',  average(cpuPercent) as 'Avg CPU %',  latest(operatingSystem) as 'OS',  latest(processorCount) as 'Processor Count',  average(diskTotalBytes)/1073741824 as 'Total Storage',  max(diskUtilizationPercent) as 'Peak Storage %',  average(diskUtilizationPercent) as 'Avg Storage %',  average(memoryTotalBytes)/1073741824 as 'Memory Installed',  average(memoryUsedBytes/memoryTotalBytes) as 'Avg Memory %',  max(memoryUsedBytes/memoryTotalBytes) as 'Peak Memory %',  average(transmitBytesPerSecond) as 'Avg Network Usage',  max(transmitBytesPerSecond) as 'Peak Network Usage'  WHERE provider = 'Ec2Instance' FACET hostname",
            "process_as": "facet_table",
            "row": 7,
            "title": "Server Statistics : AWS",
            "width": 3
        },
        {
            "column": 1,
            "customizations": {},
            "event_types": [
                "SystemSample",
                "NetworkSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample, NetworkSample  SELECT  latest(coreCount) as 'Core Count',  max(cpuPercent) as 'Peak CPU %',  average(cpuPercent) as 'Avg CPU %',  latest(operatingSystem) as 'OS',  latest(processorCount) as 'Processor Count',  average(diskTotalBytes)/1073741824 as 'Total Storage',  max(diskUtilizationPercent) as 'Peak Storage %',  average(diskUtilizationPercent) as 'Avg Storage %',  average(memoryTotalBytes)/1073741824 as 'Memory Installed',  average(memoryUsedBytes/memoryTotalBytes) as 'Avg Memory %',  max(memoryUsedBytes/memoryTotalBytes) as 'Peak Memory %',  average(transmitBytesPerSecond) as 'Avg Network Usage',  max(transmitBytesPerSecond) as 'Peak Network Usage'  WHERE provider IS NULL    OR provider = 'Ec2Instance' FACET hostname",
            "process_as": "facet_table",
            "row": 8,
            "title": "Server Statistics : Combined",
            "width": 3
        },
        {
            "column": 1,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample   SELECT  max(cpuPercent) as '%'   WHERE provider IS NULL   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 9,
            "title": "Top Peak CPU Utilization : On-Premises",
            "width": 1
        },
        {
            "column": 2,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample   SELECT  max(cpuPercent) as '%'   WHERE provider = 'Ec2Instance'   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 9,
            "title": "Top Peak CPU Utilization : AWS",
            "width": 1
        },
        {
            "column": 3,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample   SELECT  max(cpuPercent) as '%'   WHERE provider IS NULL    OR provider = 'Ec2Instance'   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 9,
            "title": "Top Peak CPU Utilization : Combined",
            "width": 1
        },
        {
            "column": 1,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample   SELECT average(cpuPercent) as '%'   WHERE provider IS NULL   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 10,
            "title": "Top Average CPU Utilization : On-Premises",
            "width": 1
        },
        {
            "column": 2,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample   SELECT average(cpuPercent) as '%' WHERE provider = 'Ec2Instance'   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 10,
            "title": "Top Average CPU Utilization : AWS",
            "width": 1
        },
        {
            "column": 3,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample   SELECT average(cpuPercent) as '%'   WHERE provider IS NULL    OR provider = 'Ec2Instance'   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 10,
            "title": "Top Average CPU Utilization : Combined",
            "width": 1
        },
        {
            "column": 1,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  average(diskTotalBytes)/1073741824 as 'GB'   WHERE provider IS NULL   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 11,
            "title": "Top Total Storage Installed  : On-Premises",
            "width": 1
        },
        {
            "column": 2,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  average(diskTotalBytes)/1073741824 as 'GB'   WHERE provider = 'Ec2Instance'   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 11,
            "title": "Top Total Storage Installed : AWS",
            "width": 1
        },
        {
            "column": 3,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  average(diskTotalBytes)/1073741824as 'GB'   WHERE provider IS NULL OR provider = 'Ec2Instance'  FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 11,
            "title": "Top Total Storage Installed : Combined",
            "width": 1
        },
        {
            "column": 1,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  max(diskUtilizationPercent)*100  as '%'   WHERE provider IS NULL   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 12,
            "title": "Top Peak Storage Utilization : On-Premises",
            "width": 1
        },
        {
            "column": 2,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  max(diskUtilizationPercent)  as '%'   WHERE provider = 'Ec2Instance'    FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 12,
            "title": "Top Peak Storage Utilization : AWS",
            "width": 1
        },
        {
            "column": 3,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  max(diskUtilizationPercent)  as '%'   WHERE provider IS NULL    OR provider = 'Ec2Instance'  FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 12,
            "title": "Top Peak Storage Utilization : Combined",
            "width": 1
        },
        {
            "column": 1,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  average(diskUtilizationPercent)  as '%'   WHERE provider IS NULL   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 13,
            "title": "Top Average Storage Utilization : On-Premises",
            "width": 1
        },
        {
            "column": 2,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  average(diskUtilizationPercent)  as '%'   WHERE provider = 'Ec2Instance'  FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 13,
            "title": "Top Average Storage Utilization : AWS",
            "width": 1
        },
        {
            "column": 3,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  average(diskUtilizationPercent)  as '%'   WHERE provider IS NULL OR provider = 'Ec2Instance'   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 13,
            "title": "Top Average Storage Utilization : Combined",
            "width": 1
        },
        {
            "column": 1,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  average(memoryTotalBytes)/1073741824 as 'GB'   WHERE provider IS NULL   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 14,
            "title": "Top Total Memory Installed : On-Premises",
            "width": 1
        },
        {
            "column": 2,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  average(memoryTotalBytes)/1073741824 as 'GB'   WHERE provider = 'Ec2Instance'   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 14,
            "title": "Top Total Memory Installed : AWS",
            "width": 1
        },
        {
            "column": 3,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  average(memoryTotalBytes)/1073741824 as 'GB'   WHERE provider IS NULL OR provider = 'Ec2Instance'   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 14,
            "title": "Top Total Memory Installed : Combined",
            "width": 1
        },
        {
            "column": 1,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  average(memoryUsedBytes/memoryTotalBytes)*100   as '%'   WHERE provider IS NULL   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 15,
            "title": "Top Average Memory Utilization : On-Premises",
            "width": 1
        },
        {
            "column": 2,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  average(memoryUsedBytes/memoryTotalBytes)*100   as '%'   WHERE provider = 'Ec2Instance'   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 15,
            "title": "Top Average Memory Utilization : AWS",
            "width": 1
        },
        {
            "column": 3,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  average(memoryUsedBytes/memoryTotalBytes)*100   as '%'   WHERE provider IS NULL OR provider = 'Ec2Instance'  FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 15,
            "title": "Top Average Memory Utilization : Combined",
            "width": 1
        },
        {
            "column": 1,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  max(memoryUsedBytes/memoryTotalBytes)*100   as '%'   WHERE provider IS NULL   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 16,
            "title": "Top Peak Memory Utilization : On-Premises",
            "width": 1
        },
        {
            "column": 2,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  max(memoryUsedBytes/memoryTotalBytes)*100   as '%'   WHERE provider = 'Ec2Instance'   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 16,
            "title": "Top Peak Memory Utilization : AWS",
            "width": 1
        },
        {
            "column": 3,
            "customizations": {},
            "event_types": [
                "SystemSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM SystemSample  SELECT  max(memoryUsedBytes/memoryTotalBytes)*100   as '%'   WHERE provider IS NULL OR provider = 'Ec2Instance'  FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 16,
            "title": "Top Peak Memory Utilization : Combined",
            "width": 1
        },
        {
            "column": 1,
            "customizations": {},
            "event_types": [
                "NetworkSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM NetworkSample  SELECT  average(transmitBytesPerSecond)/1024   as 'MB/s'   WHERE provider IS NULL   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 17,
            "title": "Top Average Network Utilization : On-Premises",
            "width": 1
        },
        {
            "column": 2,
            "customizations": {},
            "event_types": [
                "NetworkSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM NetworkSample  SELECT  average(transmitBytesPerSecond)/1024   as 'MB/s'   WHERE provider = 'Ec2Instance'   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 17,
            "title": "Top Average Network Utilization : AWS",
            "width": 1
        },
        {
            "column": 3,
            "customizations": {},
            "event_types": [
                "NetworkSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM NetworkSample  SELECT  average(transmitBytesPerSecond)/1024   as 'MB/s'   WHERE provider IS NULL OR provider = 'Ec2Instance'   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 17,
            "title": "Top Average Network Utilization : Combined",
            "width": 1
        },
        {
            "column": 1,
            "customizations": {},
            "event_types": [
                "NetworkSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM NetworkSample  SELECT  max(transmitBytesPerSecond)/1024   as 'MB/s'   WHERE provider IS NULL   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 18,
            "title": "Top Peak Network Utilization : On-Premises",
            "width": 1
        },
        {
            "column": 2,
            "customizations": {},
            "event_types": [
                "NetworkSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM NetworkSample  SELECT  max(transmitBytesPerSecond)/1024   as 'MB/s'   WHERE provider = 'Ec2Instance'   FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 18,
            "title": "Top Peak Network Utilization : AWS",
            "width": 1
        },
        {
            "column": 3,
            "customizations": {},
            "event_types": [
                "NetworkSample"
            ],
            "facet": "hostname",
            "height": 1,
            "notes": null,
            "nrql": "FROM NetworkSample  SELECT  max(transmitBytesPerSecond)/1024   as 'MB/s'   WHERE provider IS NULL OR provider = 'Ec2Instance'  FACET hostname",
            "process_as": "facet_bar_chart",
            "row": 18,
            "title": "Top Peak Network Utilization : Combined",
            "width": 1
        }
    ]
}
